% This templete is obtained from http://kevindonnelly.org.uk/resources/playscript.tex

\documentclass[11pt,a4paper,oneside]{memoir}
    % http://www.ctan.org/tex-archive/macros/latex/contrib/memoir
\usepackage[english]{babel}
\usepackage{enumitem}
    % http://www.ctan.org/tex-archive/macros/latex/contrib/enumitem
\usepackage[fontset=none]{ctex}
\usepackage{amsmath}

\setmonofont{Iosevka}
\setCJKmainfont{FZXSSK.TTF}[BoldFont={SourceHanSerifCN-Bold.otf}, ItalicFont={FZXKTK.TTF}, BoldItalicFont={汉仪颜楷W.ttf}]
\setCJKsansfont{汉仪文黑-45W.ttf}[BoldFont={汉仪文黑-75W.ttf}, ItalicFont={FZYanZQKSJF.TTF}]
\setCJKmonofont{LXGWNeoXiHei.ttf}

\newlength{\drop}
    % Without this, the title page will not compile correctly.
    % To avoid using drop, see: http://wiki.lyx.org/LyX/UsingMemoirInLyX

\chapterstyle{demo2}
    % See p92 of the Memoir manual.

\pagestyle{myheadings}

\setlength{\parindent}{0pt}

\renewcommand{\printtoctitle}[1]{\centering\Large\bfseries Acts}  
    % Set the title of the contents page.
% \renewcommand{\printtoctitle}[1]  
    % Remove the title from the contents page entirely.

\pagenumbering{gobble} 
    % Remove page numbers until told otherwise.

% Various title pages may be used with the memoir package.  The one below is from ``Some Examples of Title Pages'' (Peter Wilson) at http://www.ctan.org/tex-archive/info/latex-samples/TitlePages.

% Set up the title page.
\newcommand*{\titleGM}{
    \begingroup  % Gentle Madness title page style
    \drop = 0.1\textheight
    % \vspace*{\baselineskip}
    % \vfill
    \hbox{%
        \hspace*{0.2\textwidth}%
        \rule{1pt}{\textheight}
        \hspace*{0.05\textwidth}%
        \parbox[b]{0.75\textwidth}{
            \vbox{%
                % Main title of the play
                \vspace{\drop}{
                    \noindent\HUGE\bfseries 频率之外
                }\\
                % \vspace{\drop}{
                %     \noindent\HUGE\bfseries Title of the play \\[0.5\baselineskip] 
                %     over two lines
                % }\\
                % 
                % Subtitle of the play
                [2\baselineskip]{\huge\scshape\itshape Beyond the Frequency}\\
                % [2\baselineskip]{\huge\itshape Subtitle of the play \\[0.5\baselineskip] over two lines}\\
                % 
                % Author of the play
                [4\baselineskip]{\Large （希望是）科幻喜剧}
                \par\vspace{0.5\textheight}
                % [4\baselineskip]{
                %     \Large First Author \\[0.5\baselineskip] 
                %     Second Author \\[0.5\baselineskip] 
                %     Third Author \\
                % }\par\vspace{0.5\textheight}
                % 
                % Publisher and year of publication
                {\noindent \textbf{无38} \\[0.5\baselineskip] 
                \textbf{2024}}\\[\baselineskip]
            }% end of vbox
        }% end of parbox
    }% end of hbox
    % \vfill
    \null
    \endgroup
}

\hbadness=10000
    % Suppress underfull box warnings.

\newcommand{\stage}[1]{%
    \\[0.4\baselineskip] \textit{#1}%
}
\newcommand{\dialog}[2][旁白]{%
    \item[#1] #2%
}
\newcommand*{\direction}[1]{\textit{（#1）}}

\newcounter{scene}
    % Set up a scene counter.
\setcounter{scene}{0}
    % Set the scene counter to 0.
\newcommand{\scene}[2][]{
    \stepcounter{scene}
        % Increment the scene counter by 1.
    \section*{第 \thescene 场\; #1}
        % The starred form of \section prevents a section number (eg ``1.1'', ``2.3'') being printed before each section title (eg ``Scene 1'', ``Scene 2'').
    % \section*{\hfill\textit{SCENE 1}}
        % Use this line instead if you want the Scene 1 heading shifted to the right edge of the page.
    \addcontentsline{toc}{section}{第 \thescene 场\quad #1}
        % The \addcontentsline command will add the scene to the table of contents.
    \begin{description}[align=left, itemsep=1ex, leftmargin=2em, itemindent=-1em, labelsep=1em]
        % Set up a description list to hold the dialogue of the scene.    Increase the space between the list items, and set the left margin to 1cm.
        \item[] \hfill 
        #2
    \end{description}
        % Close the description list at the end of the scene.
    \vskip 1cm
        % Put a bit of space between this and the next scene heading.
}

\newcounter{act}
    % Set up an act counter.
\setcounter{act}{0}
    % Set the act counter to 0.
\newcommand{\act}[2][]{
    \stepcounter{act}
        % Increment the act counter by 1.
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \chapter*{第 \theact 幕\; #1}
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \addcontentsline{toc}{chapter}{第 \theact 幕 \quad #1}
        % The \chapter* will prevent the the chapters (Acts) being listed in the table of contents, so we need to add them manually.
    \setcounter{scene}{0}
        % Reset the scene counter to 0 at the start of each act.
    #2
}


\begin{document}

\titleGM
    % Print out the title page.

\pagenumbering{roman}
    % Start numbering pages with Roman numerals (for the front matter).
\setlength{\parskip}{0.5\baselineskip}
    % Increase the space between paragraphs.

\tableofcontents*
    % Print out the contents page, listing the acts of the play.
    % You will need to run pdflatex twice before the page numbers show up.


\clearpage

%%%%%%%%%%%%%%%
\chapter*{角色}
%%%%%%%%%%%%%%%
    % Print out the characters page, listing the dramatis personae
    % The starred form of \chapter prevents a chapter number (eg ``One'', ``Two'') being printed before each chapter title (eg ``Characters'', ``Act 1'').

\textbf{A组}，主人公姜明明（姓名待定），从Q中学毕业后进入T大学电子系学习，曾因T大学支教队与嵌入式开发结缘，但进入大学后逐渐感到不知所措，变得迷茫与颓废。
\begin{itemize}
    \item \textbf{AC}，时间点\(C\)的姜明明，T大学电子系学生。
    \item \textbf{AP}，时间点\(P\)的姜明明，Q中学学生。
    \item \textbf{AF}，时间点\(F\)的姜明明，学术上「小有成就」。
\end{itemize}

\textbf{B组}，AC 的同学和队友，与 AC 同队参加硬件设计与支教活动。
\begin{itemize}
    \item \textbf{B0}，AC 硬设比赛队友。
    \item \textbf{B1}，AC 硬设比赛队友。
\end{itemize}

\textbf{C组}，支教队同学，为 AP 带去嵌入式开发的启蒙。
\begin{itemize}
    \item \textbf{C0}，支教队同学。
    \item \textbf{C1}，支教队同学。
    \item \textbf{C2}，支教队同学。
    \item \textbf{C3}，支教队同学。
\end{itemize}



%%%%%%%%%%%%%%%%%%
\chapter*{写在前面}
%%%%%%%%%%%%%%%%%%
    % Print out a page with any additional authorial comments, notes on staging, or whatever.

The preface to a play seems generally to be considered as a kind of closet-prologue in which the author solicits that indulgence from the reader which he had before experienced from the audience.

I need scarcely add that the circumstance alluded to was the withdrawing of the piece to remove those imprefections which were too obvious to escape reprehension.

With regard to some particular passages which seemed generally disliked, I confess that if I felt any emotion of surprise at the disapprobation, it was not that they were disapproved of, but that I had not before perceived that they deserved it.

\clearpage
\pagenumbering{arabic}
    % Start numbering pages with Arabic numerals (for the text of the play).
\markright{\textsc{Beyond the Frequency}}
    % Generate a running header with the title of the play.

%%%%%%%%%%%%%%%%%%
\chapter*{概要}
%%%%%%%%%%%%%%%%%%
    % Print out a page with a summary of the plot.

儿时（时间点\(P\)），A 在 T 大学支教队同学的带领下尝试进行硬件设计时，将一首诗编码发送到太空中。几年后（时间点\(C\)），一段相似的回波又被考入该大学电子系、正调试着类似硬设作品的 AC 捕获。与此前不同的是，现在的他没有了当年（\(P\)）的探索热情，已经被数据、表格、成绩压垮。也因此，这成为了他生活轨迹的一个转折点。多年之后（时间点\(F\)）的他完成了时空的沟通，在信息的茫茫串流中找到了当年（\(P\)）编码的那一首诗。他回想起当初（\(C\)）的迷茫与颓丧，把这首诗送回给那时（\(C\)）的自己。

\textbf{第 1 幕}：重逢。时间点\(C\)，A 在实验室天台与同学一起监听天线接收到的信号，突然间信号变得异常清晰，他意识到这是当年编码的那首诗。

\textbf{第 2 幕}：缘起。时间点\(P\)，A 在支教队同学的带领下尝试进行硬件设计，将一首诗编码发送到太空中。

\textbf{第 3 幕}：复燃。时间点\(C\)，重新振作起来的 A 开始调试硬设作品，并随支教队将启蒙知识传递给后来的学生。

\textbf{第 4 幕}：再会。时间点\(F\)，A 完成了时空的沟通，找到了当年编码的那首诗，回想起当初的迷茫与颓丧，把这首诗送回给当时的自己。

\act[重逢]{
    \scene{
        \stage{
            \textup{
                \textbf{时间点\(\boldsymbol{C}\)}，T大学电子系实验室天台。
            }
            夜幕降临，繁星点点，AC 和几位同学正围坐在一台复杂的天线设备旁，调试着设备。
        }
        \dialog[AC]{
            \direction{不耐烦地} 要不就这样，差不多得了吧。 \direction{把说明书丢到一边}
        }
        \dialog[B0]{
            再看看呢，没多少地方没排查过了。
        }
        \dialog[B1]{
            大不了再把排线检查一遍嘛。
        }
        \dialog[AC]{
            \direction{一脸厌倦、无奈} 何必呢，就我们手上这些东西 \direction{把黑盒盖子打开}，板子是串口不够刚换的，线头是断了又重新焊的，淘宝买的芯片问客服还说测试程序是外包的，现在就没哪个环节我们能保证跑得起来吧。\direction{把盖子推回但没有合上，激动而无力}
        }
        \dialog[B0]{
            \direction{无奈} 你这么说也没办法了。但既然都到这一步了，还是再试试吧。
        }
        \dialog[B1]{
            从另一个角度想，需要我们去解决的问题不也没多少嘛。\direction{推开盖子，开始检查} 反正也就这些接线、程序、电源、天线是我们能控制的。
        }
        \stage{
            【说明：此处对话细节有待进一步调整。】
        }
        \stage{
            B1 一个接一个地检查着线头，B0 见状也翻看起程序，AC 颓丧地坐在一旁，看着他们，又看向远方。
        }
        \stage{
            重新上传几次程序之后，当 B1 将某个公头拔出又重新插上时，信号突然变得异常清晰。随后，串口绘图仪有规律地跳动起来。
        }
        \dialog[AC]{
            \direction{随意地低头，看到串口绘图仪的图像} 欸这是……
        }
        \dialog[B1]{
            \direction{看着绘图仪} 刚才我们讨论的预期是……这样吗？
        }
        \stage{
            脑中突然有了某个想法的 AC 起身抱起电脑，快速调整起程序。再次上传程序后，串口监视器上 0 和 1 滚动起来。
        }
        \dialog[AC]{
            \direction{意外，出神} 果然啊……
        }
    }
}

\act[缘起]{
    \scene{
        \stage{
            \textup{
                \textbf{时间点\(\boldsymbol{P}\)}，Q中学机房。
            }
            渐渐入夜，支教实践支队的几位同学正在一台一台地手动安装软件，为即将开始的支教活动做准备。机房窗外，刚下晚自习的 AP 背着包、抱着书，靠在窗边向里张望。
        }
        \dialog[C0]{
            \direction{在不同进度的三台电脑前来回操作} 所以，这儿的终端管理软件是真的不能直接把软件包发下去吗？
        }
        \dialog[C1]{
            \direction{在一台电脑前操作} 那样更慢。这里主机和从机本来连接就不大好，你看那边还有几台点一键开机没反应的。
        }

    }
}

\act[复燃]{
    
}

%=========================================================
\end{document}